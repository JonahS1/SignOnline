<!DOCTYPE html>
<html>
    <head>
        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="../css/materialize.min.css"  media="screen,projection"/>

        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        
        <!-- import stylesheet-->
        <link rel="stylesheet" type="text/css" href="../css/styles.css">

        <!-- Title of website showm on tab -->
        <title>SignOnline | Dashboard</title>

        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>

    <body>
        <header>
            <div class = "navbar-fixed blue valign-wrapper">
                <nav>
                    <div class="nav-wrapper blue">
                        <a href="#" class="brand-logo center blue">SignOnline | Dashboard</a>
                    </div>
                </nav>
            </div>
        </header>
        <div class="request">
            <ul class="center">
                <li><h4><strong>request to sign someone's yearbook</strong></h4></li>
                <li><input type="text" id="reqEmail" name="email" placeholder="Enter email address here"></li>
                <li><button onclick = "sendRequest()" class="btn waves-effect waves-light blue" type="submit" name="action">Send
                    <i class="material-icons right">send</i>
                  </button></li>
            </ul>
        </div>
      
        <div class="requests">
            <ul class="center">
                <li><h5><strong>people who have requested to sign your yearbook</strong></54></li>
                <li><p id="inReqList"></p></li>
            </ul>
        </div>
        
     
          
    

        <div class="invite">
            <ul class="center">
                <li><h4><strong>invite someone to sign your yearbook</strong></h4></li>
                <li><input type="text" id="invEmail" name="invEmail" placeholder="Enter email address here"></li>
                <li><button onclick = "sendInvite()" class="btn waves-effect waves-light blue" type="submit" name="action">Send
                    <i class="material-icons right">send</i>
                  </button></li>
            </ul>
        </div>
      
        <div class="invitations">
            <ul class="center">
                <li><h5><strong>people who have invited you to sign their yearbook</strong></h5></li>
                <li><p id="inInvList"></p></li>
            </ul>
        </div>

        <button onclick="refresh()" class="btn waves-effect waves-light blue">refresh</button>

        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="/__/firebase/7.14.4/firebase-app.js"></script>
        
        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="/__/firebase/7.14.4/firebase-analytics.js"></script>
        <script src="/__/firebase/7.14.4/firebase-firestore.js"></script>
        <script src="/__/firebase/7.14.4/firebase-auth.js"></script>
        <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
        <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css"/>

        <!-- Initialize Firebase -->
        <script src="/__/firebase/init.js"></script>

        

        <script src="../js/scripts.js"></script>
        <script>
            function refresh() {
                makeIncomingRequestList();
                makeIncomingInviteList();
            };

            function acceptRequestOfEmail(email) {
               removeRequestFromEmail(email);
               sendInvitationToEmail(email);
            }

            function rejectRequestOfEmail(email) {
                removeRequestFromEmail(email);
            }

            refresh();
        </script>

    </body>
</html>
